# Bluesky Auto-Poster (for WordPress)
### v0.3

Allows each WordPress author to connect their Bluesky account using their handle and password and auto-post published posts to Bluesky.

## Installation

1. Download the plugin files and upload them to your WordPress site's `wp-content/plugins` directory.
2. Activate the plugin through the 'Plugins' menu in WordPress.

## Configuration

1. Add the following line to your `wp-config.php` file to set the encryption key for storing passwords securely:
    ```php
    define('WILCOSKY_BSKY_ENCRYPTION_KEY', 'your-encryption-key'); // Replace with a secure key
    ```

2. Use the `[bsky_connect]` shortcode on a page or post where authors can connect their Bluesky accounts.

## Usage

1. Each author needs to connect their Bluesky account by using the form generated by the `[bsky_connect]` shortcode.
2. Once connected, every time an author publishes a post, it will be automatically posted to their Bluesky account.

## Shortcode

- `[bsky_connect]`: Renders a connection form for the author to connect or disconnect their Bluesky account.

## AJAX Handlers

- **Login**: Handles the connection to Bluesky by storing the session token securely.
- **Disconnect**: Handles the disconnection from Bluesky by removing the session token and related data.

## Functions

- **wilcosky_bsky_encrypt($data)**: Encrypts a string using OpenSSL.
- **wilcosky_bsky_decrypt($data)**: Decrypts a string using OpenSSL.
- **wilcosky_bsky_refresh_token($user_id)**: Refreshes the Bluesky session token.

## Actions

- **publish_post**: Schedules an auto-post to Bluesky when a post is published.
- **publish_page**: Schedules an auto-post to Bluesky when a page is published.

## Cleanup

On plugin deletion, the following user meta data is removed:
- `wilcosky_bsky_token`
- `wilcosky_bsky_handle`
- `wilcosky_bsky_password`
- `wilcosky_bsky_last_communication`

## License

This plugin is licensed under the GPL3. See the `LICENSE` file for more details.

## Author

- **Billy Wilcosky**: [https://wilcosky.com](https://wilcosky.com)
